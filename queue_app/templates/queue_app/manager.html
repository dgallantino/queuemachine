{% extends "queue_app/base.html" %}
{% load static %}
{% block title %}Manager{% endblock %}
{% block stylesheet %}
	<link href="{% static 'queue_app/css/manager.css'%}" rel="stylesheet" type="text/css">
{% endblock %}

{% block javascript %}
<script type="text/javascript">
//.in = muncul
$(document).ready(function() {
	$(".toggle-accordion").on("click", function() {
		var accordionId = $(this).attr("accordion-id"),
		numPanelOpen = $(accordionId + ' .collapse.show').length;
		numPanel = $(accordionId + ' .collapse').length;
      
		/* $(this).toggleClass("active"); */

		if (numPanelOpen == 0) {
      		openAllPanels(accordionId);
    	} else {
      		closeAllPanels(accordionId);
    	}
  	})

	openAllPanels = function(aId) {
		$(aId + ' .panel-collapse:not(".show")').collapse('show');
	}
	closeAllPanels = function(aId) {
		$(aId + ' .panel-collapse.show').collapse('hide');
	}
     
});
</script>
{% endblock %}

{% block content %}
<div class="container">
	<div class="accordion-option">
		<h3 class="title">Manager</h3>
		<!-- <a href="javascript:void(0)" class="toggle-accordion" accordion-id="#accordion"></a> -->
	</div>
	<div class="clearfix">
	</div> 
	<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
		{% for Service in Services %}
		<div class="panel panel-default">
			<div class="panel-heading" role="tab" id="heading_{{ Service.id }}">
				<h4 class="panel-title">
					<a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#collapse_{{ Service.id }}" aria-expanded="false" aria-controls="collapse_{{ Service.id }}">
						{{ Service }}
					</a>
				</h4>
			</div>
			<div id="collapse_{{ Service.id }}" class="collapse panel-collapse in" role="tabpanel" aria-labelledby="heading_{{ Service.id }}">
			{% for Queue in Service.queues.all %}
				<div class="panel-body d-flex  bd-highlight ">
					<div class="number_cell p-2 bd-highlight ">{{ Queue.number }}</div>
					<div class="mr-auto p-2 bd-highlight">{{ Queue.date_created }}</div>
					<div class="action_button">
						<button>Button1</button>
					</div>
				</div>
			{% endfor %}
			</div>
		</div>
		{% endfor %}
	</div>
</div>
{% endblock %}